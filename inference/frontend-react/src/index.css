@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply bg-dark-900 text-dark-50 antialiased;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
      sans-serif;
  }

  /* 自定义滚动条 */
  ::-webkit-scrollbar {
    @apply w-2;
  }

  ::-webkit-scrollbar-track {
    @apply bg-dark-800;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-dark-600 rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-dark-500;
  }

  /* 代码高亮样式 */
  pre {
    @apply bg-dark-800 rounded-lg p-4 overflow-x-auto my-4;
  }

  code {
    @apply bg-dark-800 text-primary-400 px-1.5 py-0.5 rounded text-sm font-mono;
  }

  pre code {
    @apply bg-transparent text-dark-100 p-0;
  }

  /* Markdown样式 */
  .markdown {
    @apply text-dark-100;
  }

  .markdown h1 {
    @apply text-3xl font-bold mt-6 mb-4 text-primary-400;
  }

  .markdown h2 {
    @apply text-2xl font-bold mt-5 mb-3 text-primary-400;
  }

  .markdown h3 {
    @apply text-xl font-bold mt-4 mb-2 text-primary-400;
  }

  .markdown p {
    @apply my-3 leading-relaxed;
  }

  .markdown ul, .markdown ol {
    @apply my-3 ml-6;
  }

  .markdown li {
    @apply my-1.5;
  }

  .markdown a {
    @apply text-primary-400 hover:text-primary-300 underline;
  }

  .markdown blockquote {
    @apply border-l-4 border-primary-500 pl-4 my-4 italic text-dark-300;
  }

  .markdown table {
    @apply w-full my-4 border-collapse;
  }

  .markdown th {
    @apply bg-dark-800 px-4 py-2 text-left font-semibold border border-dark-700;
  }

  .markdown td {
    @apply px-4 py-2 border border-dark-700;
  }

  /* KaTeX 数学公式暗色主题样式 */
  .katex {
    @apply text-dark-100;
    font-size: 1.05em;
  }

  .katex-display {
    @apply my-4;
  }

  /* 行内公式样式 */
  .katex-inline {
    @apply mx-0.5;
  }

  /* 确保公式在暗色背景下可读 */
  .katex .mord,
  .katex .mbin,
  .katex .mrel,
  .katex .mop,
  .katex .mopen,
  .katex .mclose,
  .katex .mpunct,
  .katex .minner {
    color: inherit;
  }

  /* 修复数学符号颜色 */
  .prose-invert .katex {
    @apply text-dark-100;
  }

  /* 修复分数线等元素的颜色 */
  .katex .frac-line,
  .katex .stretchy {
    background-color: currentColor;
  }

  .katex svg {
    fill: currentColor;
  }
}

@layer utilities {
  .text-gradient {
    @apply bg-gradient-to-r from-primary-400 via-purple-400 to-pink-400 bg-clip-text text-transparent;
  }

  .gradient-border {
    position: relative;
  }

  .gradient-border::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    padding: 1px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
  }
}

