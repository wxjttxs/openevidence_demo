2025-10-28 15:11:22,349 - base.py - 49 - WARNING - Tool `retrieval` already exists! Overwriting with class <class 'tool_retrieval.Retrieval'>.
2025-10-28 15:11:22 - __main__ - INFO - æ—¥å¿—çº§åˆ«è®¾ç½®ä¸º: INFO
/mnt/data6t/wangxiaojing/tongyi_deepresearch/DeepResearch-openevidence/inference/api_server.py:134: DeprecationWarning: 
        on_event is deprecated, use lifespan event handlers instead.

        Read more about it in the
        [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).
        
  @app.on_event("startup")
2025-10-28 15:11:22 - __main__ - INFO - ğŸ”§ å¯åŠ¨é…ç½®:
2025-10-28 15:11:22 - __main__ - INFO -    APIç«¯å£: 5006
2025-10-28 15:11:22 - __main__ - INFO -    vLLMç«¯å£: 6001
2025-10-28 15:11:22 - __main__ - INFO -    æ¨¡å‹è·¯å¾„: /mnt/data6t/wangxiaojing/models/opensource_models/Alibaba-NLP/Tongyi-DeepResearch-30B-A3B
2025-10-28 15:11:22 - api_server - INFO - æ—¥å¿—çº§åˆ«è®¾ç½®ä¸º: INFO
INFO:     Started server process [249670]
INFO:     Waiting for application startup.
2025-10-28 15:11:22 - api_server - INFO - ğŸš€ å¯åŠ¨Tongyi DeepResearch APIæœåŠ¡å™¨...
2025-10-28 15:11:22 - api_server - INFO - âœ… æ¨ç†ä»£ç†é…ç½®æ¨¡æ¿åˆå§‹åŒ–å®Œæˆ
2025-10-28 15:11:22 - api_server - INFO - ğŸ“¡ LLM APIåœ°å€: https://dashscope.aliyuncs.com/compatible-mode/v1
2025-10-28 15:11:22 - api_server - INFO - ğŸ¤– æ¨¡å‹: qwen3-32b
2025-10-28 15:11:22 - api_server - INFO - ğŸ”‘ API Key (masked): sk-f59e9bf...f991e
2025-10-28 15:11:22 - api_server - INFO - ğŸŒ APIæœåŠ¡å™¨å°†åœ¨ç«¯å£ 5006 ä¸Šè¿è¡Œ
2025-10-28 15:11:22 - api_server - INFO - ğŸ”’ å¹¶å‘æ§åˆ¶: æœ€å¤§å¹¶å‘è¯·æ±‚æ•° = 3
2025-10-28 15:11:22 - api_server - INFO - ğŸ’¡ æç¤º: å¯é€šè¿‡ç¯å¢ƒå˜é‡ MAX_CONCURRENT_REQUESTS è°ƒæ•´å¹¶å‘æ•°
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:5006 (Press CTRL+C to quit)
INFO:     127.0.0.1:46108 - "GET /health HTTP/1.1" 200 OK
INFO:     10.31.95.28:19889 - "GET /health HTTP/1.1" 200 OK
INFO:     10.31.95.28:38362 - "GET /health HTTP/1.1" 200 OK
INFO:     10.31.95.28:53492 - "GET /health HTTP/1.1" 200 OK
INFO:     10.31.95.28:47271 - "OPTIONS /chat/stream HTTP/1.1" 200 OK
INFO:     10.31.95.28:47272 - "POST /chat/stream HTTP/1.1" 200 OK
2025-10-28 15:12:01 - api_server - INFO - â³ [Session 7d275a00] ç­‰å¾…è·å–å¤„ç†æ§½ä½... (å½“å‰æ´»è·ƒ: 0)
2025-10-28 15:12:01 - api_server - INFO - ğŸš€ [Session 7d275a00] è·å–æ§½ä½æˆåŠŸï¼Œå¼€å§‹å¤„ç†é—®é¢˜: ç”·æ€§ï¼Œ52å²ã€‚

ä¸»è¯‰
è…¹ç—›ã€æ¶å¿ƒã€å‘•å1å¤©ã€‚

ç°ç—…å²
æ‚£è€…1å¤©å‰çªå‘ä¸Šè…¹ç—›ï¼Œä¼´æ¶å¿ƒï¼Œå‘•åèƒƒå†…å®¹ç‰©...
2025-10-28 15:12:02 - streaming_agent - INFO - === StreamingReactAgent.stream_run START ===
2025-10-28 15:12:02 - streaming_agent - INFO - ğŸ§  å·²å¯ç”¨æ€è€ƒæ¨¡å¼ (thinking_budget=1000)
2025-10-28 15:12:02 - httpx - INFO - HTTP Request: POST https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-28 15:12:14 - streaming_agent - INFO - â±ï¸  ã€æ—¶é—´ç»Ÿè®¡ã€‘æ€è€ƒè¿‡ç¨‹å®Œæˆï¼Œè€—æ—¶: 12.14 ç§’
2025-10-28 15:12:14 - streaming_agent - INFO - ğŸ’­ æ€è€ƒå†…å®¹é•¿åº¦: 684 å­—
2025-10-28 15:12:17 - streaming_agent - INFO - âœ… æµå¼è°ƒç”¨æˆåŠŸ - æ€è€ƒ: 684å­—, å›ç­”: 192å­—
2025-10-28 15:12:17 - streaming_agent - INFO - âœ… LLMå“åº”å®Œæˆ - æ€è€ƒ: 684å­—, å›ç­”: 192å­—
2025-10-28 15:12:22 - streaming_agent - INFO - â±ï¸  ã€æ—¶é—´ç»Ÿè®¡ã€‘æ£€ç´¢å·¥å…·æ‰§è¡Œå®Œæˆï¼Œè€—æ—¶: 5.67 ç§’
2025-10-28 15:12:22 - api_server - WARNING - âš ï¸ [Session 7d275a00] å‘é€å¤§æ•°æ®åŒ…: 46778 å­—èŠ‚, ç±»å‹: tool_result
2025-10-28 15:12:27 - httpx - INFO - HTTP Request: POST https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-28 15:12:29 - streaming_agent - INFO - â±ï¸  ã€æ—¶é—´ç»Ÿè®¡ã€‘æ£€ç´¢ç»“æœè¯„ä¼°å®Œæˆï¼Œè€—æ—¶: 7.00 ç§’
INFO:     10.31.95.28:40327 - "GET /health HTTP/1.1" 200 OK
2025-10-28 15:12:33 - httpx - INFO - HTTP Request: POST https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions "HTTP/1.1 200 OK"
INFO:     10.31.95.28:13084 - "GET /health HTTP/1.1" 200 OK
2025-10-28 15:13:23 - streaming_agent - INFO - â±ï¸  ã€æ—¶é—´ç»Ÿè®¡ã€‘æœ€ç»ˆç­”æ¡ˆç”Ÿæˆå®Œæˆï¼Œè€—æ—¶: 53.83 ç§’
2025-10-28 15:13:23 - streaming_agent - INFO - â±ï¸  ã€æ—¶é—´ç»Ÿè®¡ã€‘æ•´ä¸ªæµç¨‹å®Œæˆï¼Œæ€»è€—æ—¶: 81.66 ç§’
2025-10-28 15:13:23 - streaming_agent - INFO - === StreamingReactAgent.stream_run COMPLETED (FROM RETRIEVAL) ===
2025-10-28 15:13:23 - api_server - INFO - âœ… [Session 7d275a00] å¤„ç†å®Œæˆï¼Œé‡Šæ”¾æ§½ä½
2025-10-28 15:13:23 - api_server - INFO - âœ… [Session 7d275a00] ä¼šè¯æ­£å¸¸å®Œæˆ
2025-10-28 15:13:23 - api_server - INFO - ğŸ”“ [Session 7d275a00] æ§½ä½å·²é‡Šæ”¾
INFO:     10.31.95.28:27139 - "GET /health HTTP/1.1" 200 OK
INFO:     10.31.95.28:15808 - "GET /health HTTP/1.1" 200 OK
INFO:     10.31.95.28:29740 - "GET /health HTTP/1.1" 200 OK
INFO:     10.31.95.28:45468 - "GET /health HTTP/1.1" 200 OK
INFO:     10.31.95.28:47779 - "GET /health HTTP/1.1" 200 OK
INFO:     10.31.95.28:50112 - "GET /health HTTP/1.1" 200 OK
INFO:     10.31.95.28:33793 - "GET /health HTTP/1.1" 200 OK
INFO:     10.31.95.28:1498 - "GET /health HTTP/1.1" 200 OK
INFO:     10.31.95.28:37051 - "GET /health HTTP/1.1" 200 OK
INFO:     10.31.95.28:16784 - "GET /health HTTP/1.1" 200 OK
INFO:     10.31.95.28:28687 - "GET /health HTTP/1.1" 200 OK
